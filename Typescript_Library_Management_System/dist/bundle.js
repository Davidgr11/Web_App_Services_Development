(()=>{"use strict";var t={419:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Library=void 0,n.Library=class{constructor(){this.inventory=[],this.transactions=[],this.totalIncome=0,this.inventory.push({isbn:"978-1-4000-8306-8",title:"Atomic Habits",author:"James Clear",price:20,quantity:10},{isbn:"978-0-399-59044-5",title:"The Power of Habit",author:"Charles Duhigg",price:18,quantity:10},{isbn:"978-0-8041-3670-5",title:"Mindset: The New Psychology of Success",author:"Carol S. Dweck",price:22,quantity:10}),this.transactions.push({bookTitle:"Atomic Habits",quantity:5,totalAmount:100},{bookTitle:"The Power of Habit",quantity:7,totalAmount:126},{bookTitle:"Mindset: The New Psychology of Success",quantity:5,totalAmount:110}),this.calculateTotalIncome()}calculateTotalIncome(){this.totalIncome=this.transactions.reduce(((t,n)=>t+n.totalAmount),0)}getBookByIndex(t){return this.inventory[t]||null}getInventory(){return this.inventory.map(((t,n)=>`${n+1}) ${t.title} by ${t.author} - Price: $${t.price} | Quantity: ${t.quantity}`)).join("<br>")}sellBook(t,n){if(t.quantity>=n){const e=t.price*n;t.quantity-=n,this.transactions.push({bookTitle:t.title,quantity:n,totalAmount:e}),this.totalIncome+=e}else console.log(`Not enough stock for "${t.title}". Only ${t.quantity} available.`)}getBalance(){return`\n            <h2>Total Income: $${this.totalIncome}</h2>\n            <h3>Transaction History:</h3>\n            <div>${this.transactions.map((t=>`Sold ${t.quantity} copies of "${t.bookTitle}" for $${t.totalAmount}`)).join("<br>")}</div>\n            <button id="backToMenuButton">Back to Menu</button> \x3c!-- Added button --\x3e\n        `}getMenu(){return'\n            <h2>Main Menu</h2>\n            <button id="manageInventoryButton">Manage Inventory</button>\n            <button id="sellBooksButton">Sell Books</button>\n            <button id="viewBalanceButton">View Balance</button>\n        '}addBook(t){const n=this.inventory.find((n=>n.isbn===t.isbn));n?(n.quantity+=t.quantity,console.log(`Updated stock of "${t.title}". New quantity: ${n.quantity}`)):(this.inventory.push(t),console.log(`Added new book: "${t.title}" to the inventory.`))}chooseBookForSale(t){return t>=0&&t<this.inventory.length?this.inventory[t]:(console.log("Invalid selection. Try again."),null)}}}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var a=n[o]={exports:{}};return t[o](a,a.exports,e),a.exports}(()=>{const t=new(e(419).Library),n=document.getElementById("app");function o(){var t,e,o;n.innerHTML='\n        <div class="container">\n            <h2>Library Management System</h2>\n            <div class="button-container">\n                <button id="manageInventoryButton" class="menu-button">Manage Inventory</button>\n                <button id="sellBooksButton" class="menu-button">Sell Books</button>\n                <button id="viewBalanceButton" class="menu-button">View Balance</button>\n            </div>\n        </div>\n    ',null===(t=document.getElementById("manageInventoryButton"))||void 0===t||t.addEventListener("click",i),null===(e=document.getElementById("sellBooksButton"))||void 0===e||e.addEventListener("click",l),null===(o=document.getElementById("viewBalanceButton"))||void 0===o||o.addEventListener("click",u)}function i(){var e,i;n.innerHTML=`\n        <h2>Manage Inventory</h2>\n        ${t.getInventory()}\n        <h2>Add New Book</h2>\n        <input type="text" id="isbn" placeholder="Enter ISBN" />\n        <input type="text" id="title" placeholder="Enter Title" />\n        <input type="text" id="author" placeholder="Enter Author" />\n        <input type="number" id="price" placeholder="Enter Price" />\n        <input type="number" id="quantity" placeholder="Enter Quantity" />\n        <button id="addBookButton">Add Book</button>\n        <button id="backToMenuButton">Back to Menu</button>\n    `,null===(e=document.getElementById("addBookButton"))||void 0===e||e.addEventListener("click",a),null===(i=document.getElementById("backToMenuButton"))||void 0===i||i.addEventListener("click",o)}function a(){const e=document.getElementById("isbn").value,o=document.getElementById("title").value,a=document.getElementById("author").value,l=document.getElementById("price").valueAsNumber,u=document.getElementById("quantity").valueAsNumber,r=document.createElement("div");e&&o&&a&&!isNaN(l)&&!isNaN(u)?(t.addBook({isbn:e,title:o,author:a,price:l,quantity:u}),r.className="alert",r.innerText="Book added successfully!",i()):(r.className="alert",r.innerText="Please fill in all fields correctly."),n.prepend(r),setTimeout((()=>r.remove()),3e3)}function l(){var e,i;n.innerHTML=t.getInventory()+'\n        <h2>Sell Books</h2>\n        <input type="number" id="bookIndex" placeholder="Enter book index to sell" />\n        <input type="number" id="quantity" placeholder="Enter quantity" />\n        <button id="sellBookButton">Sell</button>\n        <button id="backToMenuButton">Back to Menu</button>\n    ',null===(e=document.getElementById("backToMenuButton"))||void 0===e||e.addEventListener("click",o),null===(i=document.getElementById("sellBookButton"))||void 0===i||i.addEventListener("click",(()=>{const n=document.getElementById("bookIndex").valueAsNumber-1,e=document.getElementById("quantity").valueAsNumber,o=t.getBookByIndex(n);o?(t.sellBook(o,e),o.quantity<e?alert(`Not enough stock for "${o.title}". Only ${o.quantity} available.`):alert(`Sold ${e} copies of "${o.title}".`),l()):alert("Invalid book selection. Please enter a valid index.")}))}function u(){var e;n.innerHTML=t.getBalance(),null===(e=document.getElementById("backToMenuButton"))||void 0===e||e.addEventListener("click",o)}o()})()})();